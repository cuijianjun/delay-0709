<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Title</title>
</head>
<script>
  function d2a(n){
    return n*Math.PI/180
  }
  function a3d(n){
    return n*180/Math.PI
  }
  window.onload = function(){
    let oSvg = document.getElementById('svg1');
    let cx = 400,cy = 300,r= 200;
    function pie(start, end, color='black') {
      //求x1,y1
      let x1 = cx+Math.sin(d2a(start))*r;
      let y1 = cy - Math.cos(d2a(start))*r;

      //求x2,y2
      let x2 = cx+Math.sin(d2a(end))*r;
      let y2 = cy - Math.cos(d2a(end))*r;

      //生成元素
      let oPath = document.createElementNS('http://www.w3.org/2000/svg', 'path');

      oPath.style.stroke = 'none';
      oPath.style.fill = color;
      oPath.setAttribute('d',`
        M ${cx} ${cy}
        L ${x1} ${y1}
        A ${r} ${r} 0 ${end - start>180?1:0 }  1 ${x2} ${y2}
        Z
     `)

      oSvg.appendChild(oPath);
    }

    pie(100,200,'red')

    let data = [300,200,800,500,200];
    let colors = ['#FC0','#CF0',"#0Fc","#0cf","#f0c"]

    let sum = data.reduce((ymp,item) => ymp+item);

    let now = 0;
    data.forEach((item,index) => {
      let ang = 360*item/sum;

      pie(now,now+ang,colors[index])
      now +=ang
    })
  }
</script>
<body>
<svg width="800" height="600" id="svg1"></svg>
</body>
</html>